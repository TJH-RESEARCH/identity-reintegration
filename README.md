---
contributors:
  - Thomas J. Hodges
---

# To Do

- Add the survey instructions, items, and logic to the documentation.
- Set up configure R script. 
- Set up renv config

# Morality, Identity, and the Military


## Overview

The code in R Project allows for the replication of tables, figures, and results used in the dissertation presented to the School of Conflict Management, Peacebuilding and Development at Kennesaw State University (Hodges, forthcoming). 

## Data Availability and Provenance

This paper uses original data collected by the author as part of a **survey** administered in 2023 to United States military veterans. Survey data is available upon reasonable request.

### Details on each Data Source

1. Survey Data

## Dataset list

| Data file                              | Source                                                                        | Notes         | Provided     |
|----------------------------------------|-------------------------------------------------------------------------------|---------------|--------------|
| `data/synthetic/synthetic-data.csv`    | Generated by the `src/02-data-prep.R` file. Administered via Qualtrics.  | Random data.  |      Yes     |
| `data/raw/survey.csv`                  | Author                                                                        |               | Upon request |


## Licensing
This project currently has no license. It is protected by copyright (and not intended to be shared publicly at this stage.)


## Computational requirements

Replicating this code will require a recent version of R (version 4.2.2 or later). You can download R from https://cran.rstudio.com

If you already have R installed, running the "`renv/activate.R`" will download the dependent packages. It relies on the `renv` package, which you can read about at https://rstudio.github.io/renv/. This script is run as a part of the "replicate.R" file which runs the entire project. 

The code was last run on a **Apple M1 Chip MacBook Air MacOS version Ventura 13.2.1**. 


## Description of programs/code

> INSTRUCTIONS: Give a high-level overview of the program files and their purpose. Remove redundant/ obsolete files from the Replication archive.

There are five groups of programs in this project. The first configures the project (for instance, by setting a standard theme for visualizations). The second imports and cleans the data, processing the original raw form to create useful and valid data. The third is for exploring the data. The fourth formally analyszes the data, for instance by performing the hypothesis tests. The fifth and finaly group replicates tables and graphics found in the appendix of the dissertation.   

| Folder                | File.                     | Purpose                                     | Notes                            |
|-----------------------|---------------------------|---------------------------------------------|----------------------------------|
| src/01_config         | themes.R                  | Set the style of visualizations             |                                  | 
| src/02_dataprep       | 1-import-survey.R         | Load raw data and format data types         |                                  |
| src/02_dataprep       | create-factors.R          |                                             |                                  |
| src/02_dataprep       | 2-rename-variables.R      | Fix variable names                          |                                  |
| src/02_dataprep       | 3-fix-NAs.R               | Re-code non-applicable values               |                                  |
| src/02_dataprep       | 4-reverse-codes.R         | Reverse score the psychometric scales       |                                  |
| src/02_dataprep       | 5-calculate-variables.R   | Create new variables                        |                                  |
| src/02_dataprep       | 6-score-scales.R          | Calculates total and mean scale scores      |                                  |
| src/02_dataprep       | 7a-calculate-attention.R  | Calculates indices of inattentive responses |                                  |
| src/02_dataprep       | 7b-assess-attention.R     | Assesses invalid and inattentive responses  |                                  |
| src/02_dataprep       | 7c-screen-responses.R     | Removes invalid and inattentive responses   |                                  |
| src/02_dataprep       | 0-update-codebook.R       | Relabels the variables                      |                                  |
| src/02_dataprep       | 0-process-survey.R        | Runs all the programs in `02_dataprep`      |                                  |
| src/02_dataprep       | 0-process-survey.R        | Runs all the programs in `02_dataprep`      |                                  |
| src/04_analysis       | 0-process-survey.R        | Runs all the programs in `02_dataprep`      |                                  |

The provided code reproduces:

- [ ] All numbers provided in text in the paper
- [ ] All tables and figures in the paper
- [ ] Selected tables and figures in the paper, as explained and justified below.

## List of tables and programs

| Figure/Table #    | Program                  | Line Number | Output file                      | Note                            |
|-------------------|--------------------------|-------------|----------------------------------|---------------------------------|
| Table a           | 02_analysis/table1.do    |             | summarystats.csv                 ||
| Table b           | 05_analysis/table2and3.do| 15          | table2.csv                       ||
| Figure c          | n.a. (no data)           |             |                                  | Source: Herodus (2011)          |


## References



---

## Acknowledgements


This README document was inspired by the template  [avaialable here](https://github.com/social-science-data-editors/template_README/blob/master/template-README.md).



# SCRAPS 

American Community Survey 2021, veteran demographic data which were downloaded from the U.S. Census Bureau at https://data.census.gov/table?q=veterans&tid=ACSST1Y2021.S2101. A processed copy of the data is provided as part of this archive. The processed copy was created manually to be easier to use than the original. The data are in the public domain. Datafile: `data/processed/acs.csv`

2. Synthetic Data